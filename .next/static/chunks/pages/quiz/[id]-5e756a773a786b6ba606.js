(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[777],{1646:function(e){e.exports=function(){"use strict";var e,t,n=1e3,r=6e4,i=36e5,s=864e5,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,a=31536e6,c=2592e6,u=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,l={years:a,months:c,days:s,hours:i,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},f=function(e){return e instanceof b},d=function(e,t,n){return new b(e,n,t.$l)},h=function(e){return t.p(e)+"s"},m=function(e){return e<0},v=function(e){return m(e)?Math.ceil(e):Math.floor(e)},x=function(e){return Math.abs(e)},p=function(e,t){return e?m(e)?{negative:!0,format:""+x(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},b=function(){function m(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return d(e*l[h(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((function(t){r.$d[h(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){var i=e.match(u);if(i){var s=i.slice(2).map((function(e){return null!=e?Number(e):0}));return this.$d.years=s[0],this.$d.months=s[1],this.$d.weeks=s[2],this.$d.days=s[3],this.$d.hours=s[4],this.$d.minutes=s[5],this.$d.seconds=s[6],this.calMilliseconds(),this}}return this}var x=m.prototype;return x.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce((function(t,n){return t+(e.$d[n]||0)*l[n]}),0)},x.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=v(e/a),e%=a,this.$d.months=v(e/c),e%=c,this.$d.days=v(e/s),e%=s,this.$d.hours=v(e/i),e%=i,this.$d.minutes=v(e/r),e%=r,this.$d.seconds=v(e/n),e%=n,this.$d.milliseconds=e},x.toISOString=function(){var e=p(this.$d.years,"Y"),t=p(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=p(n,"D"),i=p(this.$d.hours,"H"),s=p(this.$d.minutes,"M"),o=this.$d.seconds||0;this.$d.milliseconds&&(o+=this.$d.milliseconds/1e3);var a=p(o,"S"),c=e.negative||t.negative||r.negative||i.negative||s.negative||a.negative,u=i.format||s.format||a.format?"T":"",l=(c?"-":"")+"P"+e.format+t.format+r.format+u+i.format+s.format+a.format;return"P"===l||"-P"===l?"P0D":l},x.toJSON=function(){return this.toISOString()},x.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(o,(function(e,t){return t||String(r[e])}))},x.as=function(e){return this.$ms/l[h(e)]},x.get=function(e){var t=this.$ms,n=h(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?v(t/l[n]):this.$d[n],0===t?0:t},x.add=function(e,t,n){var r;return r=t?e*l[h(t)]:f(e)?e.$ms:d(e,this).$ms,d(this.$ms+r*(n?-1:1),this)},x.subtract=function(e,t){return this.add(e,t,!0)},x.locale=function(e){var t=this.clone();return t.$l=e,t},x.clone=function(){return d(this.$ms,this)},x.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},x.milliseconds=function(){return this.get("milliseconds")},x.asMilliseconds=function(){return this.as("milliseconds")},x.seconds=function(){return this.get("seconds")},x.asSeconds=function(){return this.as("seconds")},x.minutes=function(){return this.get("minutes")},x.asMinutes=function(){return this.as("minutes")},x.hours=function(){return this.get("hours")},x.asHours=function(){return this.as("hours")},x.days=function(){return this.get("days")},x.asDays=function(){return this.as("days")},x.weeks=function(){return this.get("weeks")},x.asWeeks=function(){return this.as("weeks")},x.months=function(){return this.get("months")},x.asMonths=function(){return this.as("months")},x.years=function(){return this.get("years")},x.asYears=function(){return this.as("years")},m}();return function(n,r,i){e=i,t=i().$utils(),i.duration=function(e,t){var n=i.locale();return d(e,{$l:n},t)},i.isDuration=f;var s=r.prototype.add,o=r.prototype.subtract;r.prototype.add=function(e,t){return f(e)&&(e=e.asMilliseconds()),s.bind(this)(e,t)},r.prototype.subtract=function(e,t){return f(e)&&(e=e.asMilliseconds()),o.bind(this)(e,t)}}}()},1370:function(e,t,n){"use strict";var r=n(5893),i=n(7294),s=n(9704),o=n(4586),a=n(5369),c="py-2.5 px-4 leading-relaxed align-middle text-center border border-gray-light border-solid text-xs";t.Z=function(e){var t=e.scoreList,n=void 0===t?[]:t,u=(0,s.v9)((function(e){return e.collection.words})),l=(0,i.useMemo)((function(){return n.map((function(e){var t=e.id,n=e.answer,i=e.solution,s=e.result,l=(0,o.Z)(),f=u.find((function(e){return e.id===t}));return(0,r.jsx)(r.Fragment,{children:f?(0,r.jsxs)("tr",{className:"bg-white",children:[(0,r.jsx)("td",{className:c,children:!0===s?(0,r.jsx)("div",{className:"text-center before-font-material before:w-6 before:h-6 before:leading-6 before:block before:m-auto before:content-['\\e86c'] before:text-green-light"}):(0,r.jsx)("div",{className:"text-center before-font-material before:w-6 before:h-6 before:leading-6 before:block before:m-auto before:content-['\\e5c9'] before:text-red"})}),(0,r.jsx)("td",{className:c,children:(0,r.jsx)("div",{className:"min-w-200 m-auto whitespace-normal tablet:min-w-0 tablet:max-w-xs",children:(0,r.jsx)(a.Z,{id:t,wordsList:f.zh,partsList:f.parts})})}),(0,r.jsx)("td",{className:c,children:(0,r.jsx)("span",{className:!s&&n?"text-red":"",children:""===n?"-":n})}),(0,r.jsx)("td",{className:c,children:(0,r.jsx)("span",{children:i})})]},l):(0,r.jsx)(r.Fragment,{})})}))}),[n,u]);return(0,r.jsx)("div",{className:"w-full overflow-x-auto overflow-y-hidden rounded-lg",children:(0,r.jsxs)("table",{className:"w-full whitespace-nowrap",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-green",children:[(0,r.jsx)("th",{className:"".concat(c," text-white"),children:"\u6210\u7e3e"}),(0,r.jsx)("th",{className:"".concat(c," text-white"),children:"\u984c\u76ee"}),(0,r.jsx)("th",{className:"".concat(c," text-white"),children:"\u4f60\u7684\u7b54\u6848"}),(0,r.jsx)("th",{className:"".concat(c," text-white"),children:"\u6b63\u78ba\u7b54\u6848"})]})}),(0,r.jsx)("tbody",{children:l})]})})}},940:function(e,t,n){"use strict";n.d(t,{Ph:function(){return s},oH:function(){return o},KM:function(){return a}});var r=n(5893),i=n(7294),s=function(e){var t=e.options,n=e.onChange,s=(0,i.useState)(""),o=s[0],a=s[1];(0,i.useEffect)((function(){var e=t.length>0?t[0].value:"";a(e)}),[t]);return(0,r.jsx)("div",{className:"element-select",children:(0,r.jsx)("select",{value:o,onChange:function(e){a(e.target.value),n(e)},children:t.map((function(e){var t=e.value,n=e.name;return(0,r.jsx)("option",{value:t,children:n},t)}))})})},o=function(e){var t=e.defaultValue,n=void 0===t?"":t,i=e.placeholder,s=void 0===i?"":i,o=e.onChange;return(0,r.jsx)("input",{type:"text",className:"w-full h-10 block py-3 px-4 leading-4 rounded-md text-xs bg-gray-light",value:n,onChange:o,placeholder:s})},a=function(e){var t=e.text,n=void 0===t?"":t,s=e.colorStyle,o=void 0===s?"green":s,a=e.isDisabled,c=void 0!==a&&a,u=e.onClick,l=void 0===u?function(){}:u,f=(0,i.useMemo)((function(){switch(o){case"red":return"bg-red desktop:hover:bg-wine";case"green-dark":return"bg-green-dark desktop:hover:bg-green";default:return"bg-green desktop:hover:bg-green-dark"}}),[o]);return(0,r.jsx)("button",{type:"button",className:"min-w-105 py-2 px-5 mx-1.5 inline-block text-sm text-center text-white rounded-lg leading-6 ".concat(c?"bg-gray-dark cursor-not-allowed":f),onClick:l,title:n,children:n})}},5369:function(e,t,n){"use strict";var r=n(5893);n(7294);t.Z=function(e){var t=e.id,n=e.wordsList,i=e.partsList,s=e.hasBrackets,o=void 0!==s&&s,a=e.hasTextCenter,c=void 0!==a&&a,u=e.hasSpeechButton,l=void 0!==u&&u,f=e.onSpeech,d=void 0===f?function(){}:f;return(0,r.jsx)(r.Fragment,{children:n.map((function(e,n){var s="".concat(t,"_zh-").concat(n);return(0,r.jsxs)("div",{className:c?"flex justify-center items-start":"",children:[l&&0===n&&(0,r.jsx)("button",{type:"button","aria-label":"speech",className:"w-8 h-8 inline-block align-top mr-1 leading-8 before-font-material before:content-['\\e050'] before:block before:leading-8",onClick:function(e){e.preventDefault(),e.stopPropagation(),d()}}),(0,r.jsxs)("span",{className:"mr-2.5 font-bold",children:[o&&"(",i[n],".",o&&")"]}),(0,r.jsx)("span",{children:e})]},s)}))})}},739:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var r=n(5893),i=n(1163),s=n(7294),o=n(9704),a=n(1385),c=n(6265);function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,n){return(f=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i}).apply(null,arguments)}var d=n(7484),h=n.n(d),m=n(1646),v=n.n(m),x=n(4586),p=n(6744),b=function(e){var t=e.currentIndex,n=(0,i.useRouter)(),a=(0,s.useState)(!1),c=a[0],u=a[1],l=(0,o.v9)((function(e){return e.exam})).examGuardAlert;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"text-md text-wine leading-7",children:["\u7b2c ",t+1," \u984c"]}),(0,r.jsx)("button",{type:"button",onClick:function(){return u(!0)},className:"flex items-center text-xs text-green-dark desktop:hover:text-green before-font-material before:content-['\\e15e'] before:block before:mr-1",children:"\u96e2\u958b\u6e2c\u9a57"})]}),(0,r.jsx)(p.Z,{show:c,title:l.title,content:l.content,confirmText:"\u78ba\u5b9a",cancelText:"\u53d6\u6d88",onConfirm:function(){return n.back()},onCancel:function(){return u(!1)},theme:"warn"})]})},g=n(940),y=n(5369),w=n(3347),j=n(6218),k=n(9576),N=function(e){var t=e.examId,n=e.currentIndex,i=e.wordItem,a=e.setAnswer,c=(0,o.I0)(),u=(0,w.Z)(),l=(0,o.v9)((function(e){return e.collection.favorites})),f=(0,s.useState)(""),d=f[0],h=f[1],m=(0,s.useState)(!1),v=m[0],p=m[1],N=i.en,S=i.zh,$=i.parts,M=i.id,O=i.options;return(0,s.useEffect)((function(){var e=l.map((function(e){return e.id})),t=new Set(e);p(t.has(i.id))}),[i,l]),(0,s.useEffect)((function(){h("")}),[i]),(0,r.jsxs)("div",{children:[(0,r.jsx)(b,{currentIndex:n}),(0,r.jsxs)("div",{className:"py-3 px-4 mb-4 first-letter:relative overflow-hidden leading-7 text-sm text-black bg-gray-light rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{type:"button","aria-label":"speech",className:"w-7 h-7 before-font-material before:content-['\\e050'] before:block before:leading-7",onClick:function(){return u(N)}}),t!==j.X.FAVORITE&&(0,r.jsx)("button",{type:"button","aria-label":"favorite-button",className:"favorite-button before-icon-star w-7 h-7 before:leading-7 ".concat(v?"text-yellow-dark":"text-gray/60"),title:v?"\u79fb\u9664\u6536\u85cf":"\u52a0\u5165\u6536\u85cf",onClick:function(e){e.preventDefault(),e.stopPropagation(),c(v?(0,k.qX)(M):(0,k.wF)(M))}})]}),(0,r.jsx)("div",{className:"leading-7 text-xs tablet:text-sm",children:(0,r.jsx)(y.Z,{id:M,wordsList:S,partsList:$})})]}),O.map((function(e){var t=(0,x.Z)(),n=!(d!==e);return(0,r.jsxs)("div",{className:"relative overflow-hidden mb-2 px-4",children:[(0,r.jsx)("input",{id:t,type:"radio",value:e,onChange:function(){return h(e)},checked:n,className:"absolute invisible opacity-0 select-none"}),(0,r.jsx)("label",{htmlFor:t,className:"block",children:n?(0,r.jsx)("div",{className:"flex items-center text-sm cursor-pointer before-font-material before:content-['\\e837'] before:block before:mr-1 before:text-base",children:e}):(0,r.jsx)("div",{className:"flex items-center text-sm cursor-pointer before-font-material before:content-['\\e836'] before:block before:mr-1 before:text-base",children:e})})]},e)})),(0,r.jsx)("div",{className:"flex justify-center mt-6",children:(0,r.jsx)(g.KM,{text:"\u9001\u51fa",isDisabled:!(""!==d),onClick:function(){""!==d&&a({id:M,answer:d,solution:N,result:!(d!==N)})}})})]})},S=n(1370),$=n(3351),M=n(7554),O=function(e,t){var n=t-e;return Math.floor(Math.random()*n+e)},R=n(3235),A=function(){var e=(0,o.v9)((function(e){return e.collection.words})),t=(0,o.v9)((function(e){return e.daily.dailyWords})),n=(0,o.v9)((function(e){return e.collection.favorites}));return(0,s.useCallback)((function(r,i){switch(r){case j.p.RANDOM:case j.X.RANDOM:return(0,R.Z)(i,e.length).map((function(t){return e[t]}));case j.p.DAILY:case j.X.DAILY:return(0,a.Z)(t).sort((function(){return Math.random()>.5?-1:1}));case j.p.FAVORITE:case j.X.FAVORITE:return(0,a.Z)(n).sort((function(){return Math.random()>.5?-1:1}));default:return[]}}),[e,t,n])},E=n(347);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){var t=e.id,n=void 0===t?j.X.RANDOM:t,c=e.quantity,u=void 0===c?10:c;h().extend(v());var l=h()(),d=(0,i.useRouter)(),m=(0,o.I0)(),x=A(),p=(0,o.v9)((function(e){return e.collection.words})),b=(0,o.v9)((function(e){return e.exam})),y=b.isExamTesting,w=b.recordCollection,k=(0,s.useState)([]),R=k[0],I=k[1],C=(0,s.useState)([]),Z=C[0],T=C[1],L=(0,s.useState)(!0),P=L[0],_=L[1],F=(0,s.useState)(!1),Y=F[0],V=F[1],H=(0,s.useState)(0),X=H[0],q=H[1],K=(0,s.useState)(0),z=K[0],U=K[1],W=(0,s.useState)(""),B=W[0],G=W[1],J=(0,s.useRef)(0),Q=function(){m((0,E.Lf)(!1)),_(!0),V(!1),q(0),T([]),G("");var e=x(n,u).map((function(e){for(var t=[e.en];t.length<4;){var n=p[O(0,p.length-1)].en;f(Set,t).has(n)||t.push(n)}return D(D({},e),{},{options:t.sort((function(){return Math.random()>.5?-1:1}))})}));I(e),U(l.valueOf()),J.current=setTimeout((function(){_(!1),m((0,E.Lf)(!0))}),600)},ee=function(){var e=X+1;e>u-1?(q(0),I([]),V(!0),m((0,E.Lf)(!1))):q(e)};return(0,s.useEffect)((function(){return Q(),function(){m((0,E.Lf)(!1)),clearTimeout(J.current)}}),[]),(0,s.useEffect)((function(){if(Y&&Z.length===u){var e=l.valueOf(),t=[{id:n,startTime:z,finishTime:e,answerState:(0,a.Z)(Z)}].concat((0,a.Z)(w));G(h().duration(e-z).format("HH:mm:ss")),m((0,E.jh)(t))}}),[Z,Y]),(0,r.jsxs)("div",{children:[P&&(0,r.jsx)("div",{className:"text-center text-green-dark py-10",children:"\u8cc7\u6599\u8f09\u5165\u4e2d..."}),!P&&y&&(0,r.jsx)(N,{examId:n,currentIndex:X,wordItem:R[X],setAnswer:function(e){T([].concat((0,a.Z)(Z),[e])),ee()}}),!P&&!y&&Y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-wine my-6 text-md text-center",children:(0,$.Z)(n)}),(0,r.jsxs)("div",{className:"w-full mb-2 text-base text-green-dark text-center flex items-center justify-center before-font-material before:content-['\\e8e8'] before:block before:mr-2",children:["\u6211\u7684\u5206\u6578\uff1a",(0,M.Z)(Z),"\u5206"]}),(0,r.jsxs)("div",{className:"mb-8 text-center text-xs text-gray-dark",children:["\u4f5c\u7b54\u6642\u9593\uff1a",B]}),(0,r.jsx)(S.Z,{scoreList:Z}),(0,r.jsxs)("div",{className:"my-5 flex justify-center",children:[(0,r.jsx)(g.KM,{text:"\u518d\u6b21\u6e2c\u9a57",onClick:Q}),(0,r.jsx)(g.KM,{text:"\u96e2\u958b\u6e2c\u9a57",onClick:function(){return d.back()}})]})]})]})},Z=function(e){var t=e.examId,n=e.currentIndex,i=e.wordItem,a=e.setAnswer,c=(0,o.I0)(),u=(0,w.Z)(),l=(0,o.v9)((function(e){return e.collection.favorites})),f=(0,s.useState)(""),d=f[0],h=f[1],m=(0,s.useState)(!1),v=m[0],x=m[1],p=i.en,N=i.zh,S=i.parts,$=i.id;return(0,s.useEffect)((function(){var e=l.map((function(e){return e.id})),t=new Set(e);x(t.has(i.id))}),[i,l]),(0,s.useEffect)((function(){h("")}),[i]),(0,r.jsxs)("div",{children:[(0,r.jsx)(b,{currentIndex:n}),(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsx)(g.oH,{defaultValue:d,onChange:function(e){var t=e.target.value;h(t.toLowerCase())},placeholder:"\u8acb\u8f38\u5165\u6b63\u78ba\u7684\u82f1\u6587\u55ae\u5b57"})}),(0,r.jsxs)("div",{className:"relative overflow-hidden leading-7 mb-4 text-sm text-black",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("button",{type:"button","aria-label":"speech",className:"w-7 h-7 before-font-material before:content-['\\e050'] before:block before:leading-7",onClick:function(){return u(p)}}),t!==j.p.FAVORITE&&(0,r.jsx)("button",{type:"button","aria-label":"favorite-button",className:"favorite-button before-icon-star w-7 h-7 before:leading-7 ".concat(v?"text-yellow-dark":"text-gray/60"),title:v?"\u79fb\u9664\u6536\u85cf":"\u52a0\u5165\u6536\u85cf",onClick:function(e){e.preventDefault(),e.stopPropagation(),c(v?(0,k.qX)($):(0,k.wF)($))}})]}),(0,r.jsx)("div",{className:"pl-2 leading-7 text-xs tablet:text-sm",children:(0,r.jsx)(y.Z,{id:$,wordsList:N,partsList:S})})]}),(0,r.jsxs)("div",{className:"flex justify-center mt-6",children:[(0,r.jsx)(g.KM,{text:"\u9001\u51fa",isDisabled:!(""!==d.trim()),onClick:function(){var e=d.trim();""!==e&&a({id:$,answer:e,solution:p,result:!(e!==p)})}}),(0,r.jsx)(g.KM,{text:"\u7565\u904e",onClick:function(){a({id:$,answer:"",solution:p,result:!1})}})]})]})},T=function(e){var t=e.id,n=void 0===t?j.p.RANDOM:t,c=e.quantity,u=void 0===c?10:c;h().extend(v());var l=h()(),f=(0,i.useRouter)(),d=(0,o.I0)(),m=A(),x=(0,o.v9)((function(e){return e.exam})),p=x.isExamTesting,b=x.recordCollection,y=(0,s.useState)([]),w=y[0],k=y[1],N=(0,s.useState)([]),O=N[0],R=N[1],I=(0,s.useState)(!0),D=I[0],C=I[1],T=(0,s.useState)(!1),L=T[0],P=T[1],_=(0,s.useState)(0),F=_[0],Y=_[1],V=(0,s.useState)(0),H=V[0],X=V[1],q=(0,s.useState)(""),K=q[0],z=q[1],U=(0,s.useRef)(0),W=function(){d((0,E.Lf)(!1)),C(!0),P(!1),Y(0),R([]),z(""),k(m(n,u)),X(l.valueOf()),U.current=setTimeout((function(){C(!1),d((0,E.Lf)(!0))}),600)},B=function(){var e=F+1;e>u-1?(Y(0),k([]),P(!0),d((0,E.Lf)(!1))):Y(e)};return(0,s.useEffect)((function(){return W(),function(){d((0,E.Lf)(!1)),clearTimeout(U.current)}}),[]),(0,s.useEffect)((function(){if(L&&O.length===u){var e=l.valueOf(),t=[{id:n,startTime:H,finishTime:e,answerState:(0,a.Z)(O)}].concat((0,a.Z)(b));z(h().duration(e-H).format("HH:mm:ss")),d((0,E.jh)(t))}}),[O,L]),(0,r.jsxs)("div",{children:[D&&(0,r.jsx)("div",{className:"text-center text-green-dark py-10",children:"\u8cc7\u6599\u8f09\u5165\u4e2d..."}),!D&&p&&(0,r.jsx)(Z,{examId:n,currentIndex:F,wordItem:w[F],setAnswer:function(e){R([].concat((0,a.Z)(O),[e])),B()}}),!D&&!p&&L&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"text-wine my-6 text-md text-center",children:(0,$.Z)(n)}),(0,r.jsxs)("div",{className:"w-full mb-2 text-base text-green-dark text-center flex items-center justify-center before-font-material before:content-['\\e8e8'] before:block before:mr-2",children:["\u6211\u7684\u5206\u6578\uff1a",(0,M.Z)(O),"\u5206"]}),(0,r.jsxs)("div",{className:"mb-8 text-center text-xs text-gray-dark",children:["\u4f5c\u7b54\u6642\u9593\uff1a",K]}),(0,r.jsx)(S.Z,{scoreList:O}),(0,r.jsxs)("div",{className:"my-5 flex justify-center",children:[(0,r.jsx)(g.KM,{text:"\u518d\u6b21\u6e2c\u9a57",onClick:W}),(0,r.jsx)(g.KM,{text:"\u96e2\u958b\u6e2c\u9a57",onClick:function(){return f.back()}})]})]})]})},L=function(){var e=(0,i.useRouter)(),t=e.query.id,n=(0,o.I0)(),a=(0,o.v9)((function(e){return e.collection.words})),c=(0,o.v9)((function(e){return e.daily.dailyWords})),u=(0,o.v9)((function(e){return e.collection.favorites})),l=(0,o.v9)((function(e){return e.exam})).isExamAction;(0,s.useEffect)((function(){return function(){n((0,E.oy)(!1))}}),[]),(0,s.useEffect)((function(){!1===l&&e.push("/quiz")}),[l]);var f=function(){return(0,r.jsx)("div",{className:"py-8 my-4 text-center text-gray",children:"DATA ERROR"})},d=(0,s.useMemo)((function(){if(l&&a.length)switch(t){case j.p.RANDOM:return a.length>=10?(0,r.jsx)(T,{id:t,quantity:10}):(0,r.jsx)(f,{});case j.p.DAILY:return c.length?(0,r.jsx)(T,{id:t,quantity:c.length}):(0,r.jsx)(f,{});case j.p.FAVORITE:return u.length?(0,r.jsx)(T,{id:t,quantity:u.length}):(0,r.jsx)(f,{});case j.X.RANDOM:return a.length>=10?(0,r.jsx)(C,{id:t,quantity:10}):(0,r.jsx)(f,{});case j.X.DAILY:return c.length?(0,r.jsx)(C,{id:t,quantity:c.length}):(0,r.jsx)(f,{});case j.X.FAVORITE:return u.length?(0,r.jsx)(C,{id:t,quantity:u.length}):(0,r.jsx)(f,{});default:return(0,r.jsx)(f,{})}return(0,r.jsx)(f,{})}),[t,l,a,c]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"title",children:"\u55ae\u5b57\u6e2c\u9a57"}),(0,r.jsx)("div",{className:"content",children:d})]})}},3351:function(e,t,n){"use strict";var r=n(6218);t.Z=function(e){switch(e){case r.p.RANDOM:return"\u55ae\u5b57\u586b\u7a7a\u6e2c\u9a57";case r.p.DAILY:return"\u4eca\u65e5\u55ae\u5b57\u586b\u7a7a\u6e2c\u9a57";case r.p.FAVORITE:return"\u6536\u85cf\u55ae\u5b57\u586b\u7a7a\u6e2c\u9a57";case r.X.RANDOM:return"\u55ae\u5b57\u9078\u64c7\u6e2c\u9a57";case r.X.DAILY:return"\u4eca\u65e5\u55ae\u5b57\u9078\u64c7\u6e2c\u9a57";case r.X.FAVORITE:return"\u6536\u85cf\u55ae\u5b57\u9078\u64c7\u6e2c\u9a57";default:return""}}},7554:function(e,t,n){"use strict";var r=n(1385);t.Z=function(e){var t=(0,r.Z)(e),n=t.filter((function(e){return!0===e.result})).length/t.length,i=Number.isNaN(n)?0:n;return Math.floor(100*i)}},3235:function(e,t){"use strict";t.Z=function(e,t){for(var n=[],r=[];n.length<e;){var i=Math.round(Math.random()*t);r[i]||(r[i]=!0,n.push(i))}return n}},3347:function(e,t,n){"use strict";var r=n(7294),i=n(5827);t.Z=function(){var e=(0,i.h5)(),t=e.speak,n=e.speaking;return(0,r.useCallback)((function(e){!1===n&&t({text:e,voices:{default:!0,lang:"en",localService:!0,name:"Karen",voiceURI:"Karen"}})}),[t,n])}},8933:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quiz/[id]",function(){return n(739)}])},5827:function(e,t,n){"use strict";var r=n(219);var i=n(4989);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"h5",{enumerable:!0,get:function(){return s(i).default}})},219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,s=c}finally{try{!r&&a.return&&a.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(7294);var s=function(e,t){var n=(0,i.useRef)((function(){throw new Error("Cannot call an event handler while rendering.")}));return(0,i.useEffect)((function(){n.current=e}),[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))),(0,i.useCallback)((function(e){return(0,n.current)(e)}),[n])};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onEnd,n=void 0===t?function(){}:t,o=e.onResult,a=void 0===o?function(){}:o,c=e.onError,u=void 0===c?function(){}:c,l=(0,i.useRef)(null),f=(0,i.useState)(!1),d=r(f,2),h=d[0],m=d[1],v=(0,i.useState)(!1),x=r(v,2),p=x[0],b=x[1],g=function(e){var t=Array.from(e.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");a(t)},y=function(e){"not-allowed"===e.error&&(l.current.onend=function(){},m(!1)),u(e)},w=s((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h&&p){var t=e.lang,n=void 0===t?"":t,r=e.interimResults,i=void 0===r||r,s=e.continuous,o=void 0!==s&&s,a=e.maxAlternatives,c=void 0===a?1:a,u=e.grammars;m(!0),l.current.lang=n,l.current.interimResults=i,l.current.onresult=g,l.current.onerror=y,l.current.continuous=o,l.current.maxAlternatives=c,u&&(l.current.grammars=u),l.current.onend=function(){return l.current.start()},l.current.start()}}),[h,p,l]),j=s((function(){h&&p&&(l.current.onresult=function(){},l.current.onend=function(){},l.current.onerror=function(){},m(!1),l.current.stop(),n())}),[h,p,l,n]);return(0,i.useEffect)((function(){"undefined"!==typeof window&&(window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,window.SpeechRecognition&&(b(!0),l.current=new window.SpeechRecognition))}),[]),{listen:w,listening:h,stop:j,supported:p}}},4989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(c){i=!0,s=c}finally{try{!r&&a.return&&a.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(7294);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onEnd,n=void 0===t?function(){}:t,s=(0,i.useState)([]),o=r(s,2),a=o[0],c=o[1],u=(0,i.useState)(!1),l=r(u,2),f=l[0],d=l[1],h=(0,i.useState)(!1),m=r(h,2),v=m[0],x=m[1],p=function(e){c(e)},b=function(){var e=window.speechSynthesis.getVoices();e.length>0?p(e):window.speechSynthesis.onvoiceschanged=function(t){e=t.target.getVoices(),p(e)}},g=function(){d(!1),n()};(0,i.useEffect)((function(){"undefined"!==typeof window&&window.speechSynthesis&&(x(!0),b())}),[]);var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.voice,n=void 0===t?null:t,r=e.text,i=void 0===r?"":r,s=e.rate,o=void 0===s?1:s,a=e.pitch,c=void 0===a?1:a,u=e.volume,l=void 0===u?1:u;if(v){d(!0);var f=new window.SpeechSynthesisUtterance;f.text=i,f.voice=n,f.onend=g,f.rate=o,f.pitch=c,f.volume=l,window.speechSynthesis.speak(f)}},w=function(){v&&(d(!1),window.speechSynthesis.cancel())};return{supported:v,speak:y,speaking:f,cancel:w,voices:a}}},4586:function(e,t,n){"use strict";var r;n.d(t,{Z:function(){return f}});var i=new Uint8Array(16);function s(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=function(e){return"string"===typeof e&&o.test(e)},c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n};var f=function(e,t,n){var r=(e=e||{}).random||(e.rng||s)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return l(r)}}},function(e){e.O(0,[774,888,179],(function(){return t=8933,e(e.s=t);var t}));var t=e.O();_N_E=t}]);