(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[293],{3626:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(5893),o=n(7294),i=n(9704),a=n(4586),c=n(8602),s=n(5369),u=n(3347),l=n(9576),f=function(e){var t=e.uuId,n=e.wordItem,a=(0,i.I0)(),c=(0,u.Z)(),f=(0,i.v9)((function(e){return e.collection.favorites})),d=(0,o.useState)(!1),v=d[0],p=d[1],h=n.id,m=n.en,b=n.zh,w=n.parts;return(0,o.useEffect)((function(){var e=new Set(f);p(e.has(n))}),[f]),(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("div",{className:"relative pr-9",children:[(0,r.jsx)("div",{className:"text-lg text-wine leading-9",children:m}),(0,r.jsx)("button",{type:"button","aria-label":"favorite-button",className:"favorite-button before-icon-star w-9 h-9 absolute right-0 top-0 before:leading-9 ".concat(v?"text-yellow-dark":"text-gray/60"),title:v?"\u79fb\u9664\u6536\u85cf":"\u52a0\u5165\u6536\u85cf",onClick:function(e){e.preventDefault(),e.stopPropagation(),a(v?(0,l.qX)(h):(0,l.wF)(h))}})]}),(0,r.jsxs)("div",{className:"leading-7",children:[(0,r.jsx)(s.Z,{id:t,wordsList:b,partsList:w,hasBrackets:!0}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("button",{type:"button","aria-label":"speech",className:"w-7 h-7 block mr-1 leading-7 before-font-material before:content-['\\e050'] before:block before:leading-7",onClick:function(){return c(m)}})}),(0,r.jsx)("div",{className:"w-full h-px my-3 bg-gray"}),(0,r.jsx)("a",{href:"https://dictionary.cambridge.org/zht/\u8a5e\u5178/\u82f1\u8a9e-\u6f22\u8a9e-\u7e41\u9ad4/".concat(m),target:"_blank",rel:"noreferrer",title:"\u528d\u6a4b\u8fad\u5178\u9023\u7d50",className:"inline-flex items-center text-xs before-font-material before:content-['\\ea19'] before:block before:mr-2 desktop:hover:text-green",children:"\u528d\u6a4b\u8fad\u5178\u9023\u7d50"})]})]})},d=function(e){var t=e.wordItem,n=(0,i.I0)(),u=(0,i.v9)((function(e){return e.collection.favorites})),d=(0,o.useState)(!1),v=d[0],p=d[1],h=(0,o.useState)(!1),m=h[0],b=h[1],w=t.id,x=t.en,g=t.zh,y=t.parts;t.example;return(0,o.useEffect)((function(){var e=new Set(u);b(e.has(t))}),[u]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-full p-3 block rounded-lg cursor-pointer shadow-[0_1px_3px_0_rgba(51,51,51,0.2)]","aria-hidden":"true",onClick:function(){return p(!0)},children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"text-base text-wine leading-7 break-all pr-7",children:x}),(0,r.jsx)("div",{className:"text-xs text-black leading-6",children:(0,r.jsx)(s.Z,{id:w,wordsList:g,partsList:y})}),(0,r.jsx)("button",{type:"button","aria-label":"favorite-button",className:"favorite-button before-icon-star w-7 h-7 absolute right-0 top-0 before:leading-7 ".concat(m?"text-yellow-dark":"text-gray/60"),title:m?"\u79fb\u9664\u6536\u85cf":"\u52a0\u5165\u6536\u85cf",onClick:function(e){e.preventDefault(),e.stopPropagation(),n(m?(0,l.qX)(w):(0,l.wF)(w))}})]})}),(0,r.jsx)(c.Z,{show:v,onClose:function(){return p(!1)},children:(0,r.jsx)(f,{uuId:(0,a.Z)(),wordItem:t})})]})}},4948:function(e,t,n){"use strict";var r=n(5893);n(7294);t.Z=function(e){var t=e.children,n=e.id;return(0,r.jsx)("li",{className:"w-full mb-3 column-item",children:t},n)}},8602:function(e,t,n){"use strict";var r=n(5893),o=n(7294),i=n(3935),a=n(2345);t.Z=function(e){var t=e.children,n=e.show,c=e.onClose,s=(0,o.useState)(!1),u=s[0],l=s[1],f=(0,o.useRef)(null);(0,o.useEffect)((function(){return l(!0),function(){document.documentElement.classList.remove("is-fixed")}}),[]),(0,o.useEffect)((function(){!0===n?document.documentElement.classList.add("is-fixed"):document.documentElement.classList.remove("is-fixed")}),[n]);var d=function(e){e.preventDefault(),c()},v=(0,r.jsx)(a.Z,{in:n,timeout:400,classNames:"fade",nodeRef:f,unmountOnExit:!0,appear:!0,children:(0,r.jsx)("div",{ref:f,className:"w-full h-full flex items-center justify-center fixed top-0 left-0 z-5000 bg-black/90","aria-hidden":"true",onClick:d,children:(0,r.jsxs)("div",{className:"max-w-670 w-[calc(100%-20px)] min-h-300 max-h-[calc(100%-20px)] py-8 px-4 relative overflow-hidden rounded-lg bg-white desktop:px-5","aria-hidden":"true",onClick:function(e){e.stopPropagation()},children:[(0,r.jsx)("button",{type:"button","aria-label":"close-popup",className:"w-5 h-5 absolute overflow-hidden top-2.5 right-2.5 flex items-center justify-center text-center before-font-material before:content-['\\e5cd'] before:w-6 before:h-6 before:leading-6 before:block before:m-auto before:text-black",onClick:d}),(0,r.jsx)("div",{className:"w-full h-full max-h-[calc(100vh-200px)] overflow-x-hidden overflow-y-auto",children:t})]})})});return!0===u?i.createPortal(v,document.getElementById("modal-root-popup")):null}},5369:function(e,t,n){"use strict";var r=n(5893);n(7294);t.Z=function(e){var t=e.id,n=e.wordsList,o=e.partsList,i=e.hasBrackets,a=void 0!==i&&i,c=e.hasTextCenter,s=void 0!==c&&c,u=e.hasSpeechButton,l=void 0!==u&&u,f=e.onSpeech,d=void 0===f?function(){}:f;return(0,r.jsx)(r.Fragment,{children:n.map((function(e,n){var i="".concat(t,"_zh-").concat(n);return(0,r.jsxs)("div",{className:s?"flex justify-center items-start":"",children:[l&&0===n&&(0,r.jsx)("button",{type:"button","aria-label":"speech",className:"w-8 h-8 inline-block align-top mr-1 leading-8 before-font-material before:content-['\\e050'] before:block before:leading-8",onClick:function(e){e.preventDefault(),e.stopPropagation(),d()}}),(0,r.jsxs)("span",{className:"mr-2.5 font-bold",children:[a&&"(",o[n],".",a&&")"]}),(0,r.jsx)("span",{children:e})]},i)}))})}},3347:function(e,t,n){"use strict";var r=n(7294),o=n(5827);t.Z=function(){var e=(0,o.h5)(),t=e.speak,n=e.speaking;return(0,r.useCallback)((function(e){!1===n&&t({text:e,voices:{default:!0,lang:"en",localService:!0,name:"Karen",voiceURI:"Karen"}})}),[t,n])}},5827:function(e,t,n){"use strict";var r=n(219);var o=n(4989);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"h5",{enumerable:!0,get:function(){return i(o).default}})},219:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(7294);var i=function(e,t){var n=(0,o.useRef)((function(){throw new Error("Cannot call an event handler while rendering.")}));return(0,o.useEffect)((function(){n.current=e}),[e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))),(0,o.useCallback)((function(e){return(0,n.current)(e)}),[n])};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onEnd,n=void 0===t?function(){}:t,a=e.onResult,c=void 0===a?function(){}:a,s=e.onError,u=void 0===s?function(){}:s,l=(0,o.useRef)(null),f=(0,o.useState)(!1),d=r(f,2),v=d[0],p=d[1],h=(0,o.useState)(!1),m=r(h,2),b=m[0],w=m[1],x=function(e){var t=Array.from(e.results).map((function(e){return e[0]})).map((function(e){return e.transcript})).join("");c(t)},g=function(e){"not-allowed"===e.error&&(l.current.onend=function(){},p(!1)),u(e)},y=i((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!v&&b){var t=e.lang,n=void 0===t?"":t,r=e.interimResults,o=void 0===r||r,i=e.continuous,a=void 0!==i&&i,c=e.maxAlternatives,s=void 0===c?1:c,u=e.grammars;p(!0),l.current.lang=n,l.current.interimResults=o,l.current.onresult=x,l.current.onerror=g,l.current.continuous=a,l.current.maxAlternatives=s,u&&(l.current.grammars=u),l.current.onend=function(){return l.current.start()},l.current.start()}}),[v,b,l]),j=i((function(){v&&b&&(l.current.onresult=function(){},l.current.onend=function(){},l.current.onerror=function(){},p(!1),l.current.stop(),n())}),[v,b,l,n]);return(0,o.useEffect)((function(){"undefined"!==typeof window&&(window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition,window.SpeechRecognition&&(w(!0),l.current=new window.SpeechRecognition))}),[]),{listen:y,listening:v,stop:j,supported:b}}},4989:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){o=!0,i=s}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=n(7294);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onEnd,n=void 0===t?function(){}:t,i=(0,o.useState)([]),a=r(i,2),c=a[0],s=a[1],u=(0,o.useState)(!1),l=r(u,2),f=l[0],d=l[1],v=(0,o.useState)(!1),p=r(v,2),h=p[0],m=p[1],b=function(e){s(e)},w=function(){var e=window.speechSynthesis.getVoices();e.length>0?b(e):window.speechSynthesis.onvoiceschanged=function(t){e=t.target.getVoices(),b(e)}},x=function(){d(!1),n()};(0,o.useEffect)((function(){"undefined"!==typeof window&&window.speechSynthesis&&(m(!0),w())}),[]);var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.voice,n=void 0===t?null:t,r=e.text,o=void 0===r?"":r,i=e.rate,a=void 0===i?1:i,c=e.pitch,s=void 0===c?1:c,u=e.volume,l=void 0===u?1:u;if(h){d(!0);var f=new window.SpeechSynthesisUtterance;f.text=o,f.voice=n,f.onend=x,f.rate=a,f.pitch=s,f.volume=l,window.speechSynthesis.speak(f)}},y=function(){h&&(d(!1),window.speechSynthesis.cancel())};return{supported:h,speak:g,speaking:f,cancel:y,voices:c}}},4586:function(e,t,n){"use strict";var r;n.d(t,{Z:function(){return f}});var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=function(e){return"string"===typeof e&&a.test(e)},s=[],u=0;u<256;++u)s.push((u+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};var f=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return l(r)}}}]);